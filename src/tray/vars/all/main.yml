# Application default configuration

# -- route
magnify_host: "magnify.{{ namespace_name }}.{{ domain_name }}"

# -- nginx
magnify_nginx_image_name: "nginxinc/nginx-unprivileged"
magnify_nginx_image_tag: "1.20"
magnify_nginx_port: 8061
magnify_nginx_replicas: 1
magnify_nginx_htpasswd_secret_name: "magnify-htpasswd"
magnify_nginx_healthcheck_port: 5000
magnify_nginx_healthcheck_endpoint: "/__healthcheck__"
magnify_nginx_status_endpoint: "/__status__"
magnify_nginx_admin_ip_whitelist: []
magnify_nginx_bypass_htaccess_ip_whitelist: []
magnify_nginx_static_cache_expires: "1M"

# -- postgresql
magnify_postgresql_version: "9.6"
magnify_database_engine: "django.db.backends.postgresql_psycopg2"
magnify_database_image_name: "postgresql"
magnify_database_image_tag: "14.1"
magnify_database_host: "postgresql"
magnify_database_port: 5432
magnify_database_name: "magnify"
magnify_database_secret_name: "magnify-postgresql-{{ magnify_vault_checksum | default('undefined_magnify_vault_checksum') }}"

# -- magnify
magnify_image_name: "fundocker/jitsi-magnify"
magnify_image_tag: "1.0.0"
# The image pull secret name should match the name of your secret created to
# login to your private docker registry
magnify_image_pull_secret_name: ""
magnify_django_port: 8000
magnify_app_replicas: 1
magnify_django_settings_module: "magnify.settings"
magnify_django_configuration: "Development"
magnify_secret_name: "magnify-{{ magnify_vault_checksum | default('undefined_magnify_vault_checksum') }}"
magnify_activate_http_basic_auth: false

# -- resources
{% set app_resources = {
  "requests": {
    "cpu": "50m",
    "memory": "500Mi"
  }
} %}

magnify_app_resources: "{{ app_resources }}"
magnify_app_job_db_migrate_resources: "{{ app_resources }}"

magnify_nginx_resources:
  requests:
    cpu: 10m
    memory: 5Mi

magnify_database_resources:
  requests:
    cpu: 10m
    memory: 100Mi
